<h2>Command Logs</h2>

<form class="row g-3" [formGroup]="form" (ngSubmit)="load()">
  <div class="col-md-4">
    <label class="form-label">Forklift (optional)</label>
    <select class="form-select" formControlName="forkliftId">
      <option value="">-- All --</option>
      <option *ngFor="let f of forklifts(); trackBy: trackByForklift" [value]="f.id">
        {{ f.id }} - {{ f.name }}
      </option>
    </select>
  </div>
  <div class="col-md-2 align-self-end">
    <button class="btn btn-secondary w-100" type="submit">Filter</button>
  </div>
</form>

<table class="table table-sm mt-3" *ngIf="rows.length > 0">
  <thead>
    <tr>
      <th>ID</th>
      <th>Forklift</th>
      <th>Command</th>
      <th>IssuedBy</th>
      <th>CreatedAt</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let r of rows; trackBy: trackByRow">
      <td>{{ r.id }}</td>
      <td>{{ r.forkliftId }}</td>
      <td>{{ r.command }}</td>
      <td>{{ r.issuedBy }}</td>
      <td>{{ r.createdAt | date:'yyyy-MM-dd HH:mm' }}</td>
    </tr>
  </tbody>
</table>

<div *ngIf="rows.length === 0" class="text-muted">No logs.</div>